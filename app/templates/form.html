{% extends "base.html" %}
{% load static %}

<!-- for new user to input their infomation-->
{% block styles %}
   <link href="{% static 'css/styles.min.css' %}" rel="stylesheet"/>
   {% endblock %}


{% block content %}
<div class="container">
  <br><br>
  <form onsubmit="return atleast_onecheckbox(event)" action="{% url 'form' %}" method="post">
                      {% csrf_token %}
                      <div>
                      {% for field in entryForm %}
                          {{ field.label_tag }}
                          {{ field.help_text }}
                          {{ field }}
                      {% endfor %}
                    </div>

                    <div class="row">
                      <div class="col s6 m6 l6">
                        <p>Please select at least one Approach</p>
                          <ul>
                            {% for approach in approach_list %}
                              <li>
                                <input type="checkbox" value="{{ approach }}" name="approach_checklist" id="{{ approach }}">
                                <label for="{{ approach }}">{{ approach }}</label>
                              </li>
                            {% endfor %}
                          </ul>
                      </div>

                      <div class="col s6 m6 l6">
                        <p>Please select at least one Specialty</p>
                        <ul>
                       {% for specialty in specialty_list %}
                         <li>
                          <input type="checkbox" value="{{ specialty }}" name="specialty_checklist" id="{{ specialty }}">
                          <label for="{{ specialty }}">{{ specialty }}</label>
                         </li>
                       {% endfor %}
                      </ul>
                    </div>
                  </div>
    <div class="col s12 m12 l12">
      <button type="submit" class="btn grey darken-4">submit</button>
    </div>
  </form>
</div>
<br><br>

<script type="text/javascript">

    $(document).ready(function(){
      $('select').material_select();
    });

  function atleast_onecheckbox(e) {
    var approach_boxes = document.getElementsByName("approach_checklist");
    var specialty_boxes = document.getElementsByName("specialty_checklist");
    var okayapp = false;
    var okaysp = false
    for(var i = 0, l = approach_boxes.length; i<l;i++){
      if(approach_boxes[i].checked){
        okayapp = true;
        break;
      }
    }
    for(var i = 0, l = specialty_boxes.length; i<l;i++){
      if(specialty_boxes[i].checked){
        okaysp = true;
        break;
      }
    }
    if(okayapp == false || okaysp == false){
      alert("Please check checkboxes");
      return false;
    }
    return true;
  }
</script>
{% endblock %}
